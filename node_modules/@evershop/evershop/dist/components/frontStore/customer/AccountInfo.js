import Area from '@components/common/Area.js';
import { useCustomer, useCustomerDispatch } from '@components/frontStore/customer/CustomerContext.jsx';
import { _ } from '@evershop/evershop/lib/locale/translate/_';
import { AtSymbolIcon } from '@heroicons/react/24/outline';
import { UserCircleIcon } from '@heroicons/react/24/outline';
import React from 'react';
import { toast } from 'react-toastify';
export default function AccountInfo({ title, showLogout }) {
    const { customer: account } = useCustomer();
    const { logout } = useCustomerDispatch();
    return (React.createElement("div", { className: "account__details divide-y" },
        React.createElement("div", { className: "flex justify-between items-center" },
            title && React.createElement("h2", null, title),
            showLogout && (React.createElement("a", { className: "text-interactive", href: "#", onClick: async (e) => {
                    e.preventDefault();
                    try {
                        await logout();
                        window.location.href = '/';
                    }
                    catch (error) {
                        toast.error(error.message);
                    }
                } }, _('Logout')))),
        React.createElement("div", { className: "grid grid-cols-1 gap-2 py-5" },
            React.createElement(Area, { id: "accountDetails", coreComponents: [
                    {
                        component: {
                            default: (React.createElement("div", { className: "account__details__name flex gap-2 py-2" },
                                React.createElement("div", null,
                                    React.createElement(UserCircleIcon, { width: 20, height: 20 })),
                                React.createElement("div", null, account === null || account === void 0 ? void 0 : account.fullName)))
                        },
                        sortOrder: 10
                    },
                    {
                        component: {
                            default: () => (React.createElement("div", { className: "account__details__email flex gap-2 py-2" },
                                React.createElement("div", null,
                                    React.createElement(AtSymbolIcon, { width: 20, height: 20 })),
                                React.createElement("div", null, account === null || account === void 0 ? void 0 : account.email)))
                        },
                        sortOrder: 15
                    }
                ] }))));
}
//# sourceMappingURL=AccountInfo.js.map
import { Tooltip } from '@components/common/form/Tooltip.js';
import { getNestedError } from '@components/common/form/utils/getNestedError.js';
import { _ } from '@evershop/evershop/lib/locale/translate/_';
import React from 'react';
import { useFormContext, Controller } from 'react-hook-form';
export function RadioGroupField({ name, options, label, error, wrapperClassName, helperText, className = '', direction = 'vertical', required = false, disabled = false, validation, defaultValue, ...props }) {
    const { control, formState: { errors } } = useFormContext();
    const fieldError = getNestedError(name, errors, error);
    const fieldId = `field-${name}`;
    const validationRules = {
        ...validation,
        ...(required &&
            !(validation === null || validation === void 0 ? void 0 : validation.required) && {
            required: _('${field} is required', { field: label || name })
        })
    };
    const containerClass = direction === 'horizontal' ? 'radio-group horizontal' : 'radio-group';
    return (React.createElement("div", { className: `form-field ${wrapperClassName} ${fieldError ? 'error' : ''}` },
        label && (React.createElement("fieldset", null,
            React.createElement("legend", null,
                label,
                required && React.createElement("span", { className: "required-indicator" }, "*"),
                helperText && React.createElement(Tooltip, { content: helperText, position: "top" })))),
        React.createElement(Controller, { name: name, control: control, rules: validationRules, defaultValue: defaultValue, render: ({ field }) => (React.createElement("div", { className: containerClass }, options.map((option) => (React.createElement("div", { key: option.value, className: "radio-item" },
                React.createElement("input", { type: "radio", id: `${fieldId}-${option.value}`, value: option.value, disabled: disabled || option.disabled, checked: field.value === option.value, onChange: () => field.onChange(option.value), onBlur: field.onBlur, className: className, "aria-invalid": fieldError !== undefined ? 'true' : 'false', "aria-describedby": fieldError !== undefined ? `${fieldId}-error` : undefined, ...props }),
                React.createElement("label", { htmlFor: `${fieldId}-${option.value}`, className: option.disabled ? 'disabled' : '' }, option.label)))))) }),
        fieldError && (React.createElement("p", { id: `${fieldId}-error`, className: "field-error" }, fieldError))));
}
//# sourceMappingURL=RadioGroupField.js.map